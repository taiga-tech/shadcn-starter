# プロジェクト背景・制約

## プロジェクト概要

shadcn/ui コンポーネント用のモノレポテンプレートプロジェクトです。Next.js 15 + React 19を基盤とし、Turborepoによるビルドオーケストレーション、pnpmワークスペース、shadcn/uiコンポーネントライブラリを統合した開発環境を提供します。

## テンプレートとしての位置づけ

- **目的**: 新しいプロジェクトの起点として使用される
- **範囲**: UI コンポーネントライブラリを含むモノレポ構成
- **対象**: Next.js + shadcn/ui での開発を行う開発者・チーム

## 技術制約

### 必須要件

- **Node.js**: >= 20
- **パッケージマネージャー**: pnpm 10.11.1+ 必須
- **TypeScript**: 必須（any型使用禁止）
- **ESLint**: エラーゼロ必須（ignoreでの回避禁止）

### アーキテクチャ制約

- **API Routes**: 使用禁止 - すべてServer Actionsで実装
- **グローバル状態管理ライブラリ**: 使用しない（React Context + useReducerで対応）
- **クライアントコンポーネント**: 最小限（まずServer Componentsを検討）

### コード品質制約

- **ファイル行数**: 300行以下を目安
- **コンポーネント**: 可能な限り小さく保つ
- **テスト**: 型エラー・ESLintエラーが発生した場合の作業完了前の解決必須

## 開発環境の前提

### モノレポ構成

- **ワークスペース**: pnpm workspaces使用
- **パッケージ命名**: `@workspace/*` パターン
- **ビルドシステム**: Turborepo

### UI/UXライブラリ選択

- **UIコンポーネント**: shadcn/ui（他ライブラリとの混在禁止）
- **アイコン**: lucide-react統一
- **スタイリング**: Tailwind CSS + class-variance-authority
- **テーマ**: next-themes

### テスト戦略

- **E2E**: Playwright（ビルド後実行必須）
- **コンポーネント**: Storybook
- **ユニット**: Jest
- **設定**: 共有パッケージ化

## プロジェクトの制限事項

### ファイル作成の制限

- **ドキュメントファイル**: 明示的な要求がない限り作成禁止
- **README**: 既存ファイル編集を優先
- **設定ファイル**: 共有パッケージの活用を優先

### 依存関係の制限

- **新しいライブラリ**: 導入前に既存の類似機能確認必須
- **パッケージ管理**: pnpm以外の使用禁止
- **workspace依存**: `@workspace/*`パターン遵守

## 言語・地域設定

- **開発言語**: 日本語
- **コメント・ドキュメント**: 日本語
- **コミットメッセージ**: 英語（国際的な慣例に従う）
